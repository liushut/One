var __reflect=this&&this.__reflect||function(t,e,n){t.__class__=e,n?n.push(e):n=[e],t.__types__=t.__types__?n.concat(t.__types__):n},__extends=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n},__awaiter=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,s){function a(t){try{h(i.next(t))}catch(e){s(e)}}function r(t){try{h(i["throw"](t))}catch(e){s(e)}}function h(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,r)}h((i=i.apply(t,e||[])).next())})},__generator=this&&this.__generator||function(t,e){function n(t){return function(e){return i([t,e])}}function i(n){if(o)throw new TypeError("Generator is already executing.");for(;h;)try{if(o=1,s&&(a=s[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(s,n[1])).done)return a;switch(s=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return h.label++,{value:n[1],done:!1};case 5:h.label++,s=n[1],n=[0];continue;case 7:n=h.ops.pop(),h.trys.pop();continue;default:if(a=h.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){h=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){h.label=n[1];break}if(6===n[0]&&h.label<a[1]){h.label=a[1],a=n;break}if(a&&h.label<a[2]){h.label=a[2],h.ops.push(n);break}a[2]&&h.ops.pop(),h.trys.pop();continue}n=e.call(t,h)}catch(i){n=[6,i],s=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,s,a,r,h={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:n(0),"throw":n(1),"return":n(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r},ZJ;!function(t){var e=function(e){function n(){var n=e.call(this)||this;return n.skinName=t.Util.getClassName(n)+"Skin",n}return __extends(n,e),n.prototype.onDestroy=function(){return 0},n}(eui.Component);t.ComponentBase=e,__reflect(e.prototype,"ZJ.ComponentBase",["eui.UIComponent","egret.DisplayObject"])}(ZJ||(ZJ={}));var ZJ;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.partAdded=function(e,n){t.prototype.partAdded.call(this,e,n)},e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this)},e.prototype.setData=function(t){},e.prototype.show=function(){},e.prototype.onProgress=function(t,e){},e.prototype.onDestroy=function(){return t.prototype.onDestroy.call(this)},e}(t.ComponentBase);t.ViewBase=e,__reflect(e.prototype,"ZJ.ViewBase",["RES.PromiseTaskReporter"])}(ZJ||(ZJ={}));var ZJ;!function(t){var e=function(){function t(t,e,n){void 0===e&&(e=0),void 0===n&&(n=null),this.viewName="",this.layer=0,this.viewClass=null,this.viewName=t,this.layer=e,this.viewClass=n}return t}();t.UIData=e,__reflect(e.prototype,"ZJ.UIData")}(ZJ||(ZJ={}));var GameView=function(t){function e(){var e=t.call(this)||this;return e.GAME_TIME=180,e.GAME_END_TIME=180,e.NUM_COUNT_DOWN=3,e.GAP_X=[150,400],e.GAP_X_MAX_NUM=20,e.GAP_Y=[-350,250],e.PLATE_NUM=20,e.PLATE_Y=[880,1360],e.PLATE_WIDTH=[168,336],e.BG_WIDTH=2160,e.INTERVAL=50,e.INTERVAL_PING=3e4,e.PLAYER_BORN=[200,1200],e.PIXEL_PER_SCORE=1,e.WIN_SCORE_ENLARGE=10,e.JINDU_RANGE=[50,810],e.JINDU_PER_INDEX=(e.JINDU_RANGE[1]-e.JINDU_RANGE[0])/(ModuleConfig.WIN_INDEX-1),e.JUMP_SCALE_RATE=1e4,e.WIN_PLATE_Y=1200,e.ZHONGDIAN_TEXT_OFFSET=[15,-450],e.YANHUA_OFFSET=[0,-150],e.score1=0,e.score2=0,e.plates=[],e.countDown=null,e.readyGo=null,e.gameState="0",e.STATE_PRESTART="0",e.STATE_PLAYING="1",e.STATE_GAMEOVER="4",e.p2WillWin=!1,e.test1=null,e.yanhua=null,e.chushouSDK=null,e.intervalPing=0,e.jumpPool=[],e.data1000=null,e.data1399=null,e.data10000=null,e.data11012=null,e.dataP1=null,e.dataP2=null,e.isDanji=!1,e.intervalID=0,e.intervalGameEnd=0,e.plateWidth=0,e.plateHeight=0,e.isBegin=!1,e.settleData1=null,e.settleData2=null,e.cameraPlayer=null,e.isAI=!1,e.skinName="GameViewSkin",e}return __extends(e,t),e.prototype.partAdded=function(e,n){t.prototype.partAdded.call(this,e,n)},e.prototype.childrenCreated=function(){var e=this;t.prototype.childrenCreated.call(this),this.player2=this.createPlayer(),this.player2.initDB(2),this.player1=this.createPlayer(),this.player1.initDB(1),this.player1.isPlayer1=!0,this.player1.playBreath(),this.player2.playBreath(),this.createPlates(),this.readyGo=new ReadyGo,this.readyGo.cb=function(){e.onNumCountDownEnd()},this.gTop.addChild(this.readyGo),this.readyGo.horizontalCenter=0,this.readyGo.y=850,this.readyGo.scaleX=1.44,this.readyGo.scaleY=1.44,this.countDown=new MyCountDown,this.countDown.cb=function(){e.onCountDownEnd()},this.gTop.addChild(this.countDown),this.countDown.horizontalCenter=0,this.countDown.y=360,this.compare0.text="",this.compare1.text="",this.compare2.text="",this.big.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onBigBegin,this),this.big.addEventListener(egret.TouchEvent.TOUCH_CANCEL,this.onBigEnd,this),this.big.addEventListener(egret.TouchEvent.TOUCH_END,this.onBigEnd,this),this.restart.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onRestart,this),this.danji.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onDanji,this),ZJ.EventManager.instance.addEventListener(EventName.GAME_RESTART,this.onRestart,this),ZJ.EventManager.instance.addEventListener(EventName.GAME_EXIT,this.onGameExit,this),ZJ.EventManager.instance.addEventListener(EventName.Test,this.onTest,this),this.player1.addEventListener(EventName.PLAYER_FUHUO,this.onPlayerFuhuo,this),this.player1.addEventListener(EventName.PLAYER_WIN,this.onPlayerWin,this),this.player1.addEventListener(EventName.PLAYER_JUMP_END,this.onPlayerJumpEnd,this),this.player2.addEventListener(EventName.PLAYER_WIN,this.onPlayer2Win,this),this.player2.addEventListener(EventName.PLAYER_JUMP_END,this.onPlayer2JumpEnd,this),this.player2.addEventListener(EventName.PLAYER_FUHUO,this.onPlayer2Fuhuo,this),ZJ.SocketManager.instance.addEventListener(ZJ.CommonEventName.SOCKET_CONNECTED,this.onSocketConnected,this),ZJ.SocketManager.instance.addEventListener(ZJ.CommonEventName.SOCKET_DATA,this.onSocketData,this),this.intervalID=setInterval(function(){e.onInterval()},this.INTERVAL),ModuleConfig.compile.danji?(ZJ.UIManager.instance.destroyView(UIName.Loading),this.onDanji()):this.connect(),ZJ.AudioManager.Instance.playBgm(),ModuleConfig.compile.chushou_test},e.prototype.onstart=function(){console.log("onstart")},e.prototype.loopcomplete=function(){console.log("loopcomplete")},e.prototype.complete=function(){},e.prototype.fadein=function(){console.log("onstart")},e.prototype.fadeincomplete=function(){console.log("onstart")},e.prototype.createPlatformData=function(){var t={nonstr:yyGameConfig.nonstr,sign:yyGameConfig.sign,timestamp:yyGameConfig.timestamp,post_data:yyGameConfig.strPostData};return JSON.stringify(t)},e.prototype.sendPing=function(){ModuleConfig.compile.danji||(ModuleConfig.compile.yy?this.intervalPing=setInterval(function(){ZJ.SocketManager.instance.send(1001)},this.INTERVAL_PING):this.intervalPing=setInterval(function(){ZJ.SocketManager.instance.send(11004)},this.INTERVAL_PING))},e.prototype.sendLogin=function(){ModuleConfig.compile.danji||(ModuleConfig.compile.yy?ZJ.SocketManager.instance.send(1e3,{channelId:"huoshu",gameId:"Jumper",platformId:"Yy",platformData:this.createPlatformData(),standAlone:!1}):ZJ.SocketManager.instance.send(1e4,{openId:this.chushouSDK.csAuthRequestData.openUid,sign:"sign",timestamp:ZJ.Util.timeStamp(),appId:1234,params:"{}"}))},e.prototype.sendMatch=function(t){ZJ.SocketManager.instance.send(10001,{gameMode:1,matchType:1,matchId:t})},e.prototype.sendReady=function(){ZJ.SocketManager.instance.send(11002)},e.prototype.connect=function(){ModuleConfig.compile.danji||(ModuleConfig.compile.yy&&null!=yyGameConfig.connectUrl?ZJ.SocketManager.instance.connectByUrl(yyGameConfig.connectUrl):ZJ.SocketManager.instance.connectByUrl("ws://"+ModuleConfig.ip+":"+ModuleConfig.port))},e.prototype.onSocketConnected=function(){var t=this;this.chushouSDK=new ChushouSDK,this.chushouSDK.csAuthRequest(function(){console.log("csAuthRequest"),t.sendPing(),t.sendLogin()})},e.prototype.onSocketData=function(t){var e=t.data;new eui.Rect;if(ModuleConfig.compile.yy&&1!=e.result)this.mylog(e.error);else{var n=e.data;switch(e.protoID){case 1e4:this.data10000=n,this.nameLabel1.text=this.data10000.nickname,this.sendMatch("testmatch");break;case 10001:this.sendReady(),this.chushouSDK.gameRoomId=n.roomId;break;case 11002:0==n.result||this.chushouSDK.csExitGame();break;case 11003:ZJ.UIManager.instance.destroyView(UIName.Settle),this.onRestart();for(var i=0,o=n.playerInfos.length;o>i;++i)n.playerInfos[i].playerId==this.data10000.playerId?this.dataP1=n.playerInfos[i]:(this.dataP2=n.playerInfos[i],this.nameLabel2.text=this.dataP2.nickname);this.prestart();break;case 11011:if(n.playerId==this.dataP1.playerId){var s=ZJ.Util.bytesToObj(n.resultData);0==s.jumpScale&&(this.p2WillWin=!0),this.jumpPool.push(s),this.p2Jump()}break;case 11012:this.data11012=n,this.showSettleByServer();break;case 1e3:this.data1000=n,this.nameLabel1.text=this.data1000.player.nickname;break;case 1300:break;case 1303:break;case 1399:var a=n.player[0],r=n.answer[0],h=n.result[0];"undefined"!=typeof a&&a.playerId!=this.data1000.player.playerId&&(this.nameLabel2.text=a.nickname,this.prestart()),"undefined"!=typeof r&&r.playerId!=this.data1000.player.playerId&&(0==r.jumpScale&&(this.p2WillWin=!0),this.jumpPool.push(r),this.p2Jump()),"undefined"!=typeof h&&(this.data1399=n,this.showSettleByServer())}}},e.prototype.p2Jump=function(){var t=this;if(!this.player2.isPlaying&&!this.player2.isPlayingAnim&&this.gameState!=this.STATE_GAMEOVER){var e=this.jumpPool.shift();if("undefined"!=typeof e){var n=JSON.parse(e.attach);if(0!=e.jumpScale){var i=e.jumpScale/this.JUMP_SCALE_RATE;this.player2.playAnim(),setTimeout(function(){t.player2.stopAnim(),t.jump(t.player2,i,n.x,n.y)},(1-i)/(1-this.player2.PLAYER_SCALE_MIN)*this.player2.PLAYER_TIME_MIN)}else this.player2.x=n.x,this.settle(!1)}}},e.prototype.prestart=function(){this.gameState=this.STATE_PRESTART,this.cameraPlayer=this.player1,this.countDown.stop(),this.countDown.setSecond(this.GAME_TIME),this.readyGo.start(),ZJ.UIManager.instance.destroyView(UIName.Loading)},e.prototype.onNumCountDownEnd=function(){this.start()},e.prototype.start=function(){this.countDown.start(this.GAME_TIME),this.gameState=this.STATE_PLAYING},e.prototype.resetBg=function(){egret.Tween.removeTweens(this.bg),egret.Tween.removeTweens(this.bg33),egret.Tween.removeTweens(this.bg55),egret.Tween.removeTweens(this.bg77),this.bg1.x=0,this.bg2.x=this.BG_WIDTH,this.bg3.x=0,this.bg4.x=this.BG_WIDTH,this.bg5.x=0,this.bg6.x=this.BG_WIDTH,this.bg7.x=0,this.bg8.x=this.BG_WIDTH,this.bg.x=0,this.bg77.x=0,this.bg33.x=0,this.bg55.x=0},e.prototype.onRestart=function(){this.player1.restart(),this.player2.restart(),this.yanhua&&(this.yanhua.stop(),this.yanhua.visible=!1),this.resetBg(),this.player1.x=this.PLAYER_BORN[0],this.player1.y=this.PLAYER_BORN[1],this.player2.x=this.PLAYER_BORN[0],this.player2.y=this.PLAYER_BORN[1],this.updateScore(0,0),this.updateJindu(),this.settleData1=null,this.settleData2=null,this.p2WillWin=!1,this.removePlates(),this.createPlates(),this.isDanji&&this.prestart()},e.prototype.onDanji=function(){this.isDanji=!0,this.setAI(),this.prestart()},e.prototype.onPlayerDie=function(t){},e.prototype.onPlayerFuhuo=function(t){var e=-this.player1.x+this.PLAYER_BORN[0];this.playBg(this.bg,this.bg1,this.bg2,e,!0,500),this.playBg(this.bg77,this.bg7,this.bg8,.5*e,!0,500),this.playBg(this.bg33,this.bg3,this.bg4,.7*e,!0,500),this.playBg(this.bg55,this.bg5,this.bg6,1.2*e,!0,500)},e.prototype.onPlayerWin=function(t){this.loadYanhua(),this.settle(!0)},e.prototype.onPlayer2Win=function(t){this.loadYanhua()},e.prototype.loadYanhua=function(){var t=this;this.yanhua?this.playYanhua():ZJ.ResManager.instance.loadMovieClip("yanhua","yanhua",function(e){e.scaleX=4,e.scaleY=4,t.gPlate.addChild(e),t.yanhua=e,t.playYanhua()})},e.prototype.playYanhua=function(){this.yanhua.x=this.zhongdian.x+this.YANHUA_OFFSET[0],this.yanhua.y=this.zhongdian.y+this.YANHUA_OFFSET[1],this.yanhua.play(-1),this.yanhua.visible=!0},e.prototype.onPlayer2Die=function(t){},e.prototype.onPlayerJumpEnd=function(t){},e.prototype.onPlayer2JumpEnd=function(t){this.player2.isGameOver||this.player2.isWin&&ModuleConfig.compile.danji&&this.settle(!1)},e.prototype.onPlayer2Fuhuo=function(t){},e.prototype.onTest=function(t){this.mylog(t.data.log)},e.prototype.onInterval=function(){if(this.gameState!=this.STATE_GAMEOVER&&this.gameState!=this.STATE_PRESTART){this.updateScore(this.player1.curPlateIndex,this.player2.curPlateIndex);var t=Math.max(this.player1.x,this.player2.x),e=this.plates.length;0!=e&&t>this.plates[e-1].x-this.BG_WIDTH&&this.createPlates(),this.p2Jump()}},e.prototype.updateScore=function(t,e){this.score1=Math.floor(t/this.PIXEL_PER_SCORE),this.score2=Math.floor(e/this.PIXEL_PER_SCORE);var n=0;n=t>e?Math.ceil((t-e)/this.PIXEL_PER_SCORE):Math.floor((t-e)/this.PIXEL_PER_SCORE),0>n?(this.compare0.text=ZJ.Util.strFormat("ab{0}c",(-n).toString()),this.compare1.text="",this.compare2.text="",this.player1.updateDB(0),this.player2.updateDB(2)):0==n?(this.compare0.text="",this.compare1.text="abcd",this.compare2.text="",this.player1.updateDB(1),this.player2.updateDB(1)):(this.compare0.text="",this.compare1.text="",this.compare2.text=ZJ.Util.strFormat("ab{0}c",n.toString()),this.player1.updateDB(2),this.player2.updateDB(0))},e.prototype.updateJindu=function(){egret.Tween.removeTweens(this.jindu1),egret.Tween.removeTweens(this.jindu2),egret.Tween.get(this.jindu1,{onChange:this.updateJinduTou,onChangeObj:this}).to({x:this.JINDU_RANGE[0]+this.player1.curPlateIndex*this.JINDU_PER_INDEX},300),egret.Tween.get(this.jindu2).to({x:this.JINDU_RANGE[0]+this.player2.curPlateIndex*this.JINDU_PER_INDEX},300)},e.prototype.updateJinduTou=function(){var t="1",e="1";this.jindu1.x>this.jindu2.x?(t="2",e="0"):this.jindu1.x==this.jindu2.x?(t="1",e="1"):(t="0",e="2"),this.jinduTou1.source="jindu1"+t+"_png",this.jinduTou2.source="jindu1"+e+"_png"},e.prototype.onCountDownEnd=function(){this.player1.isGameOver=!0,this.player2.isGameOver=!0,this.gameOver()},e.prototype.gameOver=function(){this.settle(!1)},e.prototype.settle=function(t){var e=this;this.gameState=this.STATE_GAMEOVER,this.settleData1=new SettleData,this.settleData1.score=this.score1;var n=this.player1.scoreX;t&&(n*=this.WIN_SCORE_ENLARGE),setTimeout(function(){e.sendSettle()},500),ModuleConfig.compile.danji&&(this.settleData2=new SettleData,this.settleData2.score=this.score2,null!=this.settleData1&&null!=this.settleData2&&this.showSettle())},e.prototype.showSettleByServer=function(){this.countDown.stop();var t=ZJ.UIManager.instance.openView(UIName.Settle),e=0,n="";ModuleConfig.compile.yy?(e=this.data1399.result[0].winnerPlayerId==this.data1000.player.playerId?2:0==this.data1399.result[0].winnerPlayerId?1:0,n=this.data1399.result[0].toPlatform):e=0==this.data11012.result?2:1==this.data11012.result?0:1,t.setData({win:e,score1:this.score1,score2:this.score2,toPlatform:n}),this.gameState=this.STATE_GAMEOVER,ModuleConfig.compile.yy&&ZJ.SocketManager.instance.close()},e.prototype.showSettle=function(){var t=this;this.countDown.stop(),this.gameState=this.STATE_GAMEOVER;var e=0;e=this.settleData1.score>this.settleData2.score?2:this.settleData1.score==this.settleData2.score?1:0,setTimeout(function(){var n=ZJ.UIManager.instance.openView(UIName.Settle);n.setData({win:e,score1:t.score1,score2:t.score2})},2500)},e.prototype.sendJump=function(t,e,n){ModuleConfig.compile.danji||(ModuleConfig.compile.yy?ZJ.SocketManager.instance.send(1300,{jumpScale:t*this.JUMP_SCALE_RATE,score:e,attach:JSON.stringify(n)}):ZJ.SocketManager.instance.send(11011,{score:e,resultData:ZJ.Util.objToByteArray({jumpScale:t*this.JUMP_SCALE_RATE,score:e,attach:JSON.stringify(n)}).bytes}))},e.prototype.sendSettle=function(){ModuleConfig.compile.danji||(ModuleConfig.compile.yy?ZJ.SocketManager.instance.send(1303,{jumpScale:0,score:this.score1}):ZJ.SocketManager.instance.send(11012,this.dataP1.playerId))},e.prototype.onBigBegin=function(){this.gameState!=this.STATE_PLAYING||this.player1.isPlaying||this.player1.isGameOver||(this.player1.playAnim(),this.isBegin=!0)},e.prototype.onBigEnd=function(){var t=this;if(!this.player1.isPlaying&&this.isBegin){var e=this.player1.stopAnim(),n=this.jump(this.player1,e);this.sendJump(e,this.player1.curPlateIndex,{x:n.endX,y:n.endY}),this.isBegin=!1,this.p2WillWin||this.player1.curPlateIndex!=ModuleConfig.WIN_INDEX-1||setTimeout(function(){t.sendJump(0,t.player1.curPlateIndex*t.WIN_SCORE_ENLARGE,{x:n.endX,y:n.endY})},100)}},e.prototype.jump=function(t,e,n,i){void 0===n&&(n=-1),void 0===i&&(i=-1);var o=t.jump(e,n,i);if(t==this.cameraPlayer){ZJ.AudioManager.Instance.play("jump");var s=-o.endX+this.PLAYER_BORN[0];s==this.PLAYER_BORN[0]&&(s=this.bg.x-o.bgTime*o.V0_X);var a=s>this.bg.x;this.playBg(this.bg,this.bg1,this.bg2,s,a,1e3*o.bgTime),this.playBg(this.bg77,this.bg7,this.bg8,.5*s,a,1e3*o.bgTime),this.playBg(this.bg33,this.bg3,this.bg4,.7*s,a,1e3*o.bgTime),this.playBg(this.bg55,this.bg5,this.bg6,1.2*s,a,1e3*o.bgTime)}return this.updateJindu(),o},e.prototype.playBg=function(t,e,n,i,o,s){var a=this;egret.Tween.removeTweens(t),egret.Tween.get(t,{onChange:function(){var i=-t.x;o?i<e.x+.4*a.BG_WIDTH&&i<n.x?n.x=e.x-a.BG_WIDTH:i<n.x+.4*a.BG_WIDTH&&i<e.x&&(e.x=n.x-a.BG_WIDTH):i>e.x+1.1*a.BG_WIDTH?e.x=n.x+a.BG_WIDTH:i>n.x+1.1*a.BG_WIDTH&&(n.x=e.x+a.BG_WIDTH)}}).to({x:i},s,egret.Ease.sineInOut)},e.prototype.createPlayer=function(){var t=new Player;return t.x=this.PLAYER_BORN[0],t.y=this.PLAYER_BORN[1],this.gPlayer.addChild(t),t},e.prototype.createPlates=function(){var t=this.plates.length,e=1e3*Math.random();ModuleConfig.compile.yy&&yyGameConfig.timestamp&&(e=yyGameConfig.timestamp+t);for(var n=0;n<this.PLATE_NUM&&t+n<ModuleConfig.WIN_INDEX;++n){var i=new Plate,o=t+n-1,s=this.plates[o];if("undefined"==typeof s)i.x=this.player1.x-0,i.y=this.player1.y+this.player1.height+2,this.plateWidth=i.width,this.plateHeight=i.height,i.img.source="w5_png";else{var a=Math.min(o/this.GAP_X_MAX_NUM,1);i.width=this.PLATE_WIDTH[1]-(this.PLATE_WIDTH[1]-this.PLATE_WIDTH[0])*Math.min(a,1),i.x=s.x+s.width+ZJ.MathUtil.randomRange(this.GAP_X[0],this.GAP_X[0]+(this.GAP_X[1]-this.GAP_X[0])*a,e);var r=Math.max(this.GAP_Y[0]*a,this.PLATE_Y[0]-s.y),h=Math.min(this.GAP_Y[1],this.PLATE_Y[1]-s.y),c=ZJ.MathUtil.randomRange(r,h,e+n);if(n%2==0){var l=s.y-c;l<this.PLATE_Y[1]&&l>this.PLATE_Y[0]&&(c=-c)}i.y=s.y+c,i.img.source=ZJ.Util.strFormat("w{0}_png",Math.floor(2*Math.random()+3).toString())}this.gPlate.addChild(i),this.plates.push(i),t+n==ModuleConfig.WIN_INDEX-1&&(i.img.source="w5_png",i.y=this.WIN_PLATE_Y,this.zhongdian.x=i.x+50,this.zhongdian.y=i.y,this.zhongdian.visible=!0,egret.Tween.removeTweens(this.gZhongdian),this.gZhongdian.x=this.zhongdian.x+this.ZHONGDIAN_TEXT_OFFSET[0],this.gZhongdian.y=this.zhongdian.y+this.ZHONGDIAN_TEXT_OFFSET[1],egret.Tween.get(this.gZhongdian,{loop:!0}).to({y:this.gZhongdian.y-100},500,egret.Ease.quadInOut).to({y:this.gZhongdian.y},500,egret.Ease.quadInOut))}var u=new PlayerData;u.plates=this.plates,this.player1.setData(u),this.player2.setData(u)},e.prototype.removePlates=function(){for(var t=this.plates.length;t>0;){var e=this.plates.shift();e.parent.removeChild(e),--t}},e.prototype.setAI=function(){var t=this;this.isAI=!0;var e=this;setInterval(function(){e.gameState!=e.STATE_PLAYING||e.player2.isGameOver||e.player2.isPlaying||e.player2.isPlayingAnim||(t.player2.playAnim(),setTimeout(function(){if(t.player2.stopAnim(),e.player2.curPlateIndex<e.plates.length-1){var n=e.plates[e.player2.curPlateIndex+1].x-e.player2.x;n=e.player2.PLAYER_SCALE_MIN-.05+1*e.GAP_X[0]/n*(1-e.player2.PLAYER_SCALE_MIN)*Math.random(),n=Math.max(t.player2.PLAYER_SCALE_MIN,Math.min(n,1)),e.jump(e.player2,n)}},600))},3e3)},e.prototype.onGameExit=function(t){this.chushouSDK.csExitGame()},e.prototype.mylog=function(t){this.log.text=t+"\n"+this.log.text},e.prototype.onDestroy=function(){return clearInterval(this.intervalID),clearInterval(this.intervalPing),ZJ.EventManager.instance.removeEventListener(EventName.GAME_RESTART,this.onRestart,this),ZJ.EventManager.instance.removeEventListener(EventName.GAME_EXIT,this.onGameExit,this),ZJ.EventManager.instance.removeEventListener(EventName.Test,this.onTest,this),this.player1.removeEventListener(EventName.PLAYER_JUMP_END,this.onPlayerJumpEnd,this),this.player1.removeEventListener(EventName.PLAYER_FUHUO,this.onPlayerFuhuo,this),this.player1.removeEventListener(EventName.PLAYER_WIN,this.onPlayerWin,this),this.player2.removeEventListener(EventName.PLAYER_WIN,this.onPlayer2Win,this),this.player2.removeEventListener(EventName.PLAYER_JUMP_END,this.onPlayer2JumpEnd,this),this.player2.removeEventListener(EventName.PLAYER_FUHUO,this.onPlayer2Fuhuo,this),ZJ.SocketManager.instance.removeEventListener(ZJ.CommonEventName.SOCKET_CONNECTED,this.onSocketConnected,this),ZJ.SocketManager.instance.removeEventListener(ZJ.CommonEventName.SOCKET_DATA,this.onSocketData,this),0},e}(ZJ.ViewBase);__reflect(GameView.prototype,"GameView");var LoadingView=function(t){function e(){var e=t.call(this)||this;return e.intervalID=0,e.ran1=0,e.ran2=0,e.skinName="resource/eui_skins/view/LoadingView.exml",e}return __extends(e,t),e.prototype.partAdded=function(e,n){t.prototype.partAdded.call(this,e,n)},e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this);var e=ZJ.ShapeUtil.getRect(0,1,this.stage.stageWidth,this.stage.stageHeight);this.black.addChild(e)},e.prototype.onProgress=function(t,e){this.load1.text=Math.floor(t/e*100)+"%"},e.prototype.onDestroy=function(){return t.prototype.onDestroy.call(this),clearInterval(this.intervalID),0},e}(ZJ.ViewBase);__reflect(LoadingView.prototype,"LoadingView");var SettleView=function(t){function e(){var e=t.call(this)||this;return e.SHOW_TIME=3e3,e.toPlatform="",e.timeoutid=0,e.skinName="SettleViewSkin",e}return __extends(e,t),e.prototype.partAdded=function(e,n){t.prototype.partAdded.call(this,e,n)},e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this);var e=ZJ.ShapeUtil.getRect(0,.8,this.stage.stageWidth,this.stage.stageHeight);this.gBg.addChild(e),egret.Tween.get(this.bg,{loop:!0}).to({rotation:360},7e3),this.restart.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBigClick,this)},e.prototype.onBigClick=function(){ModuleConfig.compile.chushou?clearTimeout(this.timeoutid):this.onTimeout()},e.prototype.onTimeout=function(){ModuleConfig.compile.danji?(ZJ.EventManager.instance.dispatchEvent(new egret.Event(EventName.GAME_RESTART)),ZJ.UIManager.instance.destroyView(UIName.Settle)):ModuleConfig.compile.yy?sendResult(this.toPlatform):ZJ.EventManager.instance.dispatchEvent(new egret.Event(EventName.GAME_EXIT))},e.prototype.setData=function(t){var e=this;this.toPlatform=t.toPlatform,2==t.win?(this.bg.source="shenglidi_png",this.icon.source="shengli_png"):1==t.win?(this.bg.source="pingdi_png",this.icon.source="ping_png"):(this.bg.source="shibaidi_png",this.icon.source="shibai_png"),this.score1.text=t.score1.toString(),this.score2.text=t.score2.toString(),this.timeoutid=setTimeout(function(){e.onTimeout()},this.SHOW_TIME)},e.prototype.onDestroy=function(){return t.prototype.onDestroy.call(this),clearTimeout(this.timeoutid),egret.Tween.removeTweens(this.bg),0},e}(ZJ.ViewBase);__reflect(SettleView.prototype,"SettleView");var TestView=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.partAdded=function(e,n){t.prototype.partAdded.call(this,e,n)},e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),ZJ.UIManager.instance.destroyView(UIName.Loading),this.initChushouTest()},e.prototype.initFeibiao=function(){new eui.Image},e.prototype.initHitTest=function(){var t=this,e=new eui.Button;this.addChild(e),e.x=0,e.y=100;var n=new eui.Button;this.addChild(n),n.x=20,n.y=100,setTimeout(function(){console.log(t.myHitTest(e,n))},1e3)},e.prototype.myHitTest=function(t,e){var n=t.getBounds(),i=e.getBounds();return n.x=t.x,n.y=t.y,i.x=e.x,i.y=e.y,n.intersects(i)},e.prototype.onSocketConnected=function(){console.log("onSocketConnected")},e.prototype.onSocketData=function(t){console.log("onSocketData")},e.prototype.initChushouTest=function(){for(var t=new ChushouSDK,e=100,n=200,i=600,o=250,s=4,a=["csAuthRequest","csJoinRoom","csQuitRoom","csInviteToGame","csKickOutUser","csShareRoom","csShareRecord","csGetFriendList","csGetUserRelationship","csFollowUser","csEnableMic","csEnableAudioOutput","onUserVolumeUpdate","csExitGame","csNotifyLoadProgress","onNetworkStatusChange","csGetAPIVersionInfo","csInvokeRecharge","onBalanceChanged","csPurchaseProps","csPayEntryFee","csCheckEntryFee","cs_10000","cs_10001","无视，进入游戏"],r=[t.csAuthRequest,t.csJoinRoom,t.csQuitRoom,t.csInviteToGame,t.csKickOutUser,t.csShareRoom,t.csShareRecord,t.csGetFriendList,t.csGetUserRelationship,t.csFollowUser,t.csEnableMic,t.csEnableAudioOutput,t.onUserVolumeUpdate,t.csExitGame,t.csNotifyLoadProgress,t.onNetworkStatusChange,t.csGetAPIVersionInfo,t.csInvokeRecharge,t.onBalanceChanged,t.csPurchaseProps,t.csPayEntryFee,t.csCheckEntryFee,this.cs_10000,this.cs_10001,this.enterGame],h=0,c=a.length;c>h;++h){var l=this.getChushouBtn();l.x=e+h%s*i,l.y=n+Math.floor(h/s)*o,l.label=a[h],l.addEventListener(egret.TouchEvent.TOUCH_TAP,r[h],this)}},e.prototype.getChushouBtn=function(){var t=new eui.Button;return this.addChild(t),t.width=400,t.height=150,t.labelDisplay.size=40,t},e.prototype.cs_10000=function(){console.log("cs_10000"),ZJ.SocketManager.instance.send(1e4,{openId:"2333",sign:"sign",timestamp:ZJ.Util.timeStamp(),appId:1234,params:"params"})},e.prototype.cs_10001=function(){console.log("cs_10001"),ZJ.SocketManager.instance.send(10001,{gameMode:1,matchType:1,matchId:3})},e.prototype.enterGame=function(){ZJ.UIManager.instance.openView(UIName.Game),ZJ.UIManager.instance.destroyView(UIName.Test)},e.prototype.onDestroy=function(){return t.prototype.onDestroy.call(this),0},e}(ZJ.ViewBase);__reflect(TestView.prototype,"TestView");var ZJ;!function(t){var e=function(e){function n(){var n=e.call(this)||this;return n.INTERVAL=60,n.DISTANCE=20,n.pastTime=0,n.lastPos=new t.Vector3,n.nowPos=new t.Vector3,n.isBegin=!1,n.intervalID=0,n}return __extends(n,e),n.prototype.partAdded=function(t,n){e.prototype.partAdded.call(this,t,n)},n.prototype.childrenCreated=function(){var t=this;e.prototype.childrenCreated.call(this),this.layer.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),this.layer.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this),this.layer.addEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this),this.intervalID=setInterval(function(){t.onInterval()},this.INTERVAL)},n.prototype.onInterval=function(){if(this.isBegin){var e=this.nowPos.x-this.lastPos.x,n=this.nowPos.y-this.lastPos.y,i=Math.abs(e),o=Math.abs(n),s={};if(i>o?i>this.DISTANCE&&(e>0?s.direct=t.CommonConfig.RIGHT:s.direct=t.CommonConfig.LEFT,this.isBegin=!1):o>this.DISTANCE&&(n>0?s.direct=t.CommonConfig.DOWN:s.direct=t.CommonConfig.UP,this.isBegin=!1),!this.isBegin){var a=new egret.Event(t.CommonEventName.GESTURE_DIRECT);a.data=s,t.EventManager.instance.dispatchEvent(a)}this.lastPos.x=this.nowPos.x,this.lastPos.y=this.nowPos.y}},n.prototype.onTouchBegin=function(t){this.pastTime=0,this.nowPos.x=t.stageX,this.nowPos.y=t.stageY,this.lastPos.x=t.stageX,this.lastPos.y=t.stageY,this.isBegin=!0},n.prototype.onTouchEnd=function(t){this.isBegin=!1},n.prototype.onTouchMove=function(t){this.nowPos.x=t.stageX,this.nowPos.y=t.stageY},n.prototype.OnDestroy=function(){return clearInterval(this.intervalID),0},n}(t.ComponentBase);t.Gesture=e,__reflect(e.prototype,"ZJ.Gesture")}(ZJ||(ZJ={}));var ZJ;!function(t){var e=function(){function e(){}return e.randomRange=function(e,n,i){null==i&&(i=t.Util.timeStamp());var o=this.randomSeed(i);return o/=233280,Math.floor(e+o*(n-e))},e.randomSeed=function(t){return t=(9301*t+49297)%233280},e.YiYuanErCi=function(t,e,n){var i,o,s,a=[];return i=e*e-4*t*n,0>i||(o=(-1*e+Math.sqrt(i))/(2*t),s=(-1*e-Math.sqrt(i))/(2*t),a.push(o),a.push(s)),a},e}();t.MathUtil=e,__reflect(e.prototype,"ZJ.MathUtil")}(ZJ||(ZJ={}));var ZJ;!function(t){var e=function(){function e(){this.aa=null,this.stage=null,this.dbFactory=dragonBones.EgretFactory.factory,this.dbFileNames=[]}return Object.defineProperty(e,"instance",{get:function(){return this._instance},enumerable:!0,configurable:!0}),e.prototype.init=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return this.stage=t,this.aa=new AssetAdapter,[4,this.loadConfig("resource/default.res.json","resource/")];case 1:return e.sent(),[4,this.loadTheme()];case 2:return e.sent(),[2]}})})},e.prototype.loadRes=function(t,e,n,i){this.aa.getAsset(t,e,n,i)},e.prototype.loadExistRes=function(t){return RES.getRes(t)},e.prototype.loadConfig=function(t,e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return[4,RES.loadConfig(t,e)];case 1:return n.sent(),[2]}})})},e.prototype.loadGroup=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=null),__awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,RES.loadGroup(t,e,n)];case 1:return o.sent(),[3,3];case 2:return i=o.sent(),console.error(i),[3,3];case 3:return[2]}})})},e.prototype.loadTheme=function(){var t=this;return new Promise(function(e,n){var i=new eui.Theme("resource/default.thm.json",t.stage);i.addEventListener(eui.UIEvent.COMPLETE,function(){e()},t)})},e.prototype.loadMovieClip=function(e,n,i){t.ResManager.instance.loadRes(e+"_json",function(o,s){var a=o;t.ResManager.instance.loadRes(e+"_png",function(t,e){var o=t,s=new egret.MovieClipDataFactory(a,o),r=new egret.MovieClip(s.generateMovieClipData(n));i(r,s)},this)},this)},e.prototype.loadDragonBones=function(t,e){if(void 0===e&&(e=""),""==e&&(e=t),-1==this.dbFileNames.indexOf(t)){var n=this.loadExistRes(t+"_ske_json"),i=this.loadExistRes(t+"_tex_json"),o=this.loadExistRes(t+"_tex_png");this.dbFactory.parseDragonBonesData(n),this.dbFactory.parseTextureAtlasData(i,o),this.dbFileNames.push(t)}var s=this.dbFactory.buildArmatureDisplay(e);return s},e.prototype.replaceDBSlotDisplay=function(t,e,n,i,o){void 0===e&&(e=""),""==e&&(e=t),this.dbFactory.replaceSlotDisplay(t,e,n,i,o)},e._instance=new e,e}();t.ResManager=e,__reflect(e.prototype,"ZJ.ResManager")}(ZJ||(ZJ={}));var ZJ;!function(t){var e=function(){function t(){}return t.getRect=function(t,e,n,i,o,s){void 0===o&&(o=0),void 0===s&&(s=0);var a=new egret.Shape;return a.graphics.beginFill(t,e),a.graphics.drawRect(o,s,n,i),a.graphics.endFill(),a},t.getCircle=function(t,e,n,i,o){void 0===i&&(i=0),void 0===o&&(o=0);var s=new egret.Shape;return s.graphics.beginFill(t,e),s.graphics.drawCircle(i,o,n),s.graphics.endFill(),s},t.getLine=function(t,e,n,i,o,s,a){var r=new egret.Shape;return r.graphics.lineStyle(n,t,e),r.graphics.moveTo(i,o),r.graphics.lineTo(s,a),r.graphics.endFill(),r},t.getArc=function(t,e,n,i,o,s,a,r,h){void 0===a&&(a=!1),void 0===r&&(r=0),void 0===h&&(h=0);var c=new egret.Shape;return c.graphics.lineStyle(n,t,e),c.graphics.drawArc(r,h,i,Math.PI/180*o,Math.PI/180*s,a),c.graphics.endFill(),c},t.getArch=function(t,e,n,i,o,s,a,r){void 0===s&&(s=!1),void 0===a&&(a=0),void 0===r&&(r=0);var h=new egret.Shape;return h.graphics.beginFill(t,e),h.graphics.drawArc(a,r,n,Math.PI/180*i,Math.PI/180*o,s),h.graphics.endFill(),h},t.setArcMask=function(t,e,n,i,o,s,a){void 0===o&&(o=!1),void 0===s&&(s=t.x),void 0===a&&(a=t.y);var r;null!=t.mask?r=t.mask:(r=new egret.Shape,t.parent.addChild(r));var h=Math.round(n+360*i)*Math.PI/180;n*=Math.PI/180,r.graphics.clear(),r.graphics.beginFill(16711680,1),r.graphics.lineTo(e,0),r.graphics.drawArc(s,a,e,n,h,o),r.graphics.lineTo(s,a),r.graphics.endFill(),r.x=t.x,r.y=t.y,t.mask=r},t}();t.ShapeUtil=e,__reflect(e.prototype,"ZJ.ShapeUtil")}(ZJ||(ZJ={}));var ZJ;!function(t){var e=function(t){function e(e,n,i,o){var s=t.call(this,e,n,i,o)||this;
return s.data=null,s}return __extends(e,t),e}(egret.Event);t.SocketDataEvent=e,__reflect(e.prototype,"ZJ.SocketDataEvent")}(ZJ||(ZJ={}));var ZJ;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.socket=null,t.ProtoBufRoot=new protobuf.Root,t.send=null,t.onSocketData=null,t.getProtoByID=null,t._company=1,t.clientIndex=0,t}return __extends(n,e),Object.defineProperty(n,"instance",{get:function(){return this._instance},enumerable:!0,configurable:!0}),n.prototype.init=function(){return this.parseProto(),this.socket=new egret.WebSocket,this.socket.type=egret.WebSocket.TYPE_BINARY,this.setCompany(1),this.socket.addEventListener(egret.ProgressEvent.SOCKET_DATA,this.onSocketData,this),this.socket.addEventListener(egret.Event.CONNECT,this.onSocketConnect,this),0},n.prototype.parseProto=function(){for(var t=this.ProtoBufRoot,e=ModuleConfig.protoFiles,n=0,i=e.length;i>n;++n){var o=RES.getRes(e[n]);protobuf.parse(o,t)}},n.prototype.setCompany=function(t){switch(this._company=t,t){case 2:this.send=this.sendYouai,this.onSocketData=this.onSocketDataYouai,this.getProtoByID=this.getProtoByIDYouai;break;case 3:this.send=this.sendAli,this.getProtoByID=this.getProtoByIDHuoshu;break;default:this.send=this.sendHuoshu,this.onSocketData=this.onSocketDataHuoshu,this.getProtoByID=this.getProtoByIDHuoshu}},n.prototype.connect=function(t,e){this.socket.connect(t,e)},n.prototype.connectByUrl=function(t){this.socket.connectByUrl(t)},n.prototype.close=function(){this.socket.close()},n.prototype.onSocketConnect=function(e){var n=new egret.Event(t.CommonEventName.SOCKET_CONNECTED);this.dispatchEvent(n)},n.prototype.buildSmallShitByID=function(t,e){var n=this.getProtoByID(t,!0),i=this.buildSmallShit(n,e);return i},n.prototype.decodeShitByID=function(t,e){var n=this.getProtoByID(t,!1),i=this.decodeShit(n,e);return i},n.prototype.buildSmallShit=function(t,e){var n=t.create(e),i=t.encode(n),o=i.finish();return o},n.prototype.decodeShit=function(t,e){var n=t.decode(e);return n},n.prototype.sendHuoshu=function(t,e){void 0===e&&(e={}),console.log("send: "+t),console.log(e);var n=this.buildSmallShitByID(t,e),i=new egret.ByteArray;i.writeInt(n.byteLength),i.writeShort(t),i._writeUint8Array(n),this.socket.writeBytes(i)},n.prototype.onSocketDataHuoshu=function(e){var n=new egret.ByteArray;this.socket.readBytes(n);var i=(n.readInt(),n.readShort()),o=this.decodeShitByID(i,n.bytes.subarray(6));console.log("receive: "+i),console.log(o);var s=new t.SocketDataEvent(t.CommonEventName.SOCKET_DATA);s.data={data:o,protoID:i},this.dispatchEvent(s)},n.prototype.getProtoByIDHuoshu=function(e,n){var i=(Math.floor(e/1e3),""),o="";o=n?"cs_":"sc_",i=o+e;var s=t.SocketManager.instance.ProtoBufRoot,a=s.lookupType(i);return a},n.prototype.sendYouai=function(t,e){void 0===e&&(e={});var n=this.buildSmallShitByID(t,e),i=this.buildSmallShitByID(99999,{messageId:t,clientIndex:this.clientIndex++,data:n}),o=new egret.ByteArray(i);this.socket.writeBytes(o)},n.prototype.onSocketDataYouai=function(e){var n=new egret.ByteArray;this.socket.readBytes(n);var i=this.decodeShitByID(99999,n.bytes),o="",s={},a=i.result,r=i.messageId;i.result?s=this.decodeShitByID(i.messageId,i.data):o=t.Util.Utf8ArrayToStr(i.data);var h=new t.SocketDataEvent(t.CommonEventName.SOCKET_DATA);h.data={data99999:i,error:o,result:a,data:s,protoID:r},this.dispatchEvent(h)},n.prototype.getProtoByIDYouai=function(e,n){var i="";if(n)switch(e){case 99999:i="ClientCmdData";break;case 1e3:i="CmdLoginGameReqMsg";break;case 1001:i="CmdPingReqMsg";break;case 1300:i="CmdJumperUploadAnswerReqMsg";break;case 1303:i="CmdJumperGameOverReqMsg"}else switch(e){case 99999:i="ServerCmdData";break;case 1e3:i="CmdLoginGameRspMsg";break;case 1001:i="CmdPingRspMsg";break;case 1300:i="CmdJumperUploadAnswerRspMsg";break;case 1303:i="CmdJumperGameOverRspMsg";break;case 1399:i="CmdBroadcastJumperBC"}var o=t.SocketManager.instance.ProtoBufRoot,s=o.lookupType(i);return s},n.prototype.sendAli=function(t,e){void 0===e&&(e={});var n=this.buildSmallShitByID(t,e),i=new egret.ByteArray;i.writeInt(n.byteLength),i.writeShort(t),i._writeUint8Array(n),ALISDK.CatcherSDK.instance().sendData(i.buffer)},n.prototype.onSocketDataAli=function(e){var n=new egret.ByteArray(e),i=(n.readInt(),n.readShort()),o=this.decodeShitByID(i,n.bytes.subarray(6));console.log("receive: "+i),console.log(o);var s=new t.SocketDataEvent(t.CommonEventName.SOCKET_DATA);s.data={data:o,protoID:i},this.dispatchEvent(s)},n.prototype.connectByUrlAli=function(e){var n=this;ALISDK.CatcherSDK.init({url:"ws://"+e.ip+":"+e.port+"/ws/game",gameVersion:"0.0.1",gameId:"123123",messageType:"ARRAYBUFFER"}),ALISDK.CatcherSDK.instance().on("CONNECT",function(e){var i=new t.ChannelDataEvent(t.CommonEventName.CHANNEL_DATA);i.data={eventName:"CONNECT",event:e},n.dispatchEvent(i)}).on("PROGRESS",function(e){var i=new t.ChannelDataEvent(t.CommonEventName.CHANNEL_DATA);i.data={eventName:"PROGRESS",event:e},n.dispatchEvent(i)}).on("READY",function(e){var i=new t.ChannelDataEvent(t.CommonEventName.CHANNEL_DATA);i.data={eventName:"READY",event:e},n.dispatchEvent(i)}).on("KICK",function(e){var i=new t.ChannelDataEvent(t.CommonEventName.CHANNEL_DATA);i.data={eventName:"KICK",event:e},n.dispatchEvent(i)}).on("GAMEOVER",function(e){var i=new t.ChannelDataEvent(t.CommonEventName.CHANNEL_DATA);i.data={eventName:"GAMEOVER",event:e},n.dispatchEvent(i)}).on("BREAK",function(e){var i=new t.ChannelDataEvent(t.CommonEventName.CHANNEL_DATA);i.data={eventName:"BREAK",event:e},n.dispatchEvent(i)}).on("CONTINUE",function(e){var i=new t.ChannelDataEvent(t.CommonEventName.CHANNEL_DATA);i.data={eventName:"CONTINUE",event:e},n.dispatchEvent(i)}).on("ERROR",function(e){var i=new t.ChannelDataEvent(t.CommonEventName.CHANNEL_DATA);i.data={eventName:"ERROR",event:e},n.dispatchEvent(i)}).on("MIC_CHANGE",function(e){var i=new t.ChannelDataEvent(t.CommonEventName.CHANNEL_DATA);i.data={eventName:"MIC_CHANGE",event:e},n.dispatchEvent(i)}).on("AUDIO_CHANGE",function(e){var i=new t.ChannelDataEvent(t.CommonEventName.CHANNEL_DATA);i.data={eventName:"AUDIO_CHANGE",event:e},n.dispatchEvent(i)}).on("MESSAGE",function(t){n.onSocketDataAli(t.data)}).start()},n._instance=new n,n}(egret.EventDispatcher);t.SocketManager=e,__reflect(e.prototype,"ZJ.SocketManager")}(ZJ||(ZJ={}));var ZJ;!function(t){var e=function(){function e(){this._tables={}}return Object.defineProperty(e,"instance",{get:function(){return this._instance},enumerable:!0,configurable:!0}),e.prototype.init=function(){return this.load("bg_djw_png"),0},Object.defineProperty(e.prototype,"tables",{get:function(){return this._tables},enumerable:!0,configurable:!0}),e.prototype.load=function(e){t.ResManager.instance.loadRes(e,function(e){for(var n=new JSZip(e),i=n.file(/^[tc].*/),o=0,s=i.length;s>o;o++){var a=i[o],r=t.Util.strFormat("shared/{0}",a.name);this._tables[r]=JSON.parse(a.asText())}t.EventManager.instance.dispatchEvent(new egret.Event(t.CommonEventName.TABLE_LOADED))},this)},e._instance=new e,e}();t.TableManager=e,__reflect(e.prototype,"ZJ.TableManager")}(ZJ||(ZJ={}));var ThemeAdapter=function(){function t(){}return t.prototype.getTheme=function(t,e,n,i){function o(t){e.call(i,t)}function s(e){e.resItem.url==t&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,s,null),n.call(i))}"undefined"!=typeof generateEUI?egret.callLater(function(){e.call(i,generateEUI)},this):(RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,s,null),RES.getResByUrl(t,o,this,RES.ResourceItem.TYPE_TEXT))},t}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var AssetAdapter=function(){function t(){}return t.prototype.getAsset=function(t,e,n,i){function o(i){e.call(n,i,t)}if(void 0===i&&(i=RES.ResourceItem.TYPE_IMAGE),RES.hasRes(t)){var s=RES.getRes(t);s?o(s):RES.getResAsync(t,o,this)}else RES.getResByUrl(t,o,this,i)},t}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var ZJ;!function(t){var e=function(){function t(){this._uiLayers=[],this.uiDatas={},this.uiroot=null,this.views={}}return Object.defineProperty(t,"instance",{get:function(){return this._instance},enumerable:!0,configurable:!0}),t.prototype.init=function(t){return this.uiroot=t,0},Object.defineProperty(t.prototype,"uiLayers",{set:function(t){if(this._uiLayers.length>0)egret.warn("uiLayers已经设定。");else{this._uiLayers=t;for(var e=0,n=this._uiLayers.length;n>e;++e){var i=new eui.Group;i.name="layer"+e,i.touchEnabled=!1,this.uiroot.addChild(i),i.percentWidth=100,i.percentHeight=100}}},enumerable:!0,configurable:!0}),t.prototype.getUIData=function(t){return this.uiDatas[t]},t.prototype.getView=function(t){return this.views[t]},t.prototype.openView=function(t){var e=this.getUIData(t);if(void 0==e)return egret.log("ModuleConfig没有界面配置: "+t),null;var n=this.getView(t);if(void 0!=n);else{if(n=new e.viewClass,void 0==n)return console.warn("viewClass不存在 请检查ModuleConfig.uiDatas"),null;n.percentWidth=100,n.percentHeight=100,this.views[t]=n;var i=0;e.layer<this.uiroot.numChildren&&(i=e.layer),this.uiroot.getChildAt(i).addChild(n)}return n.visible=!0,n.parent.setChildIndex(n,9999),n.show(),n},t.prototype.destroyView=function(t){var e=this.getView(t);return void 0!=e&&null!=e&&(e.onDestroy(),e.parent.removeChild(e),this.views[t]=null),0},t._instance=new t,t}();t.UIManager=e,__reflect(e.prototype,"ZJ.UIManager")}(ZJ||(ZJ={}));var ZJ;!function(t){var e=function(){function t(){}return t.getChar=function(t,e){var n=new egret.ByteArray;return n.writeUTFBytes(t),n.length<e?t:(n.position=0,n.readUTFBytes(e)+"...")},t.strFormat=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return t.replace(/\{(\d+)\}/g,function(t,n){return e[n]})},t.timeStamp=function(t){return t=t||(new Date).toString(),Date.parse(t)/1e3},t.Utf8ArrayToStr=function(t){var e,n,i,o,s,a;for(e="",i=t.length,n=0;i>n;)switch(o=t[n++],o>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:e+=String.fromCharCode(o);break;case 12:case 13:s=t[n++],e+=String.fromCharCode((31&o)<<6|63&s);break;case 14:s=t[n++],a=t[n++],e+=String.fromCharCode((15&o)<<12|(63&s)<<6|(63&a)<<0)}return e},t.getClassName=function(t){if(t&&t.constructor&&t.constructor.toString()){if(t.constructor.name)return t.constructor.name;var e=t.constructor.toString();if("["==e.charAt(0))var n=e.match(/\[\w+\s*(\w+)\]/);else var n=e.match(/function\s*(\w+)/);if(n&&2==n.length)return n[1]}},t.objToByteArray=function(t){var e=JSON.stringify(t),n=new egret.ByteArray;return n.writeUTF(e),n},t.bytesToObj=function(t){var e=new egret.ByteArray(t),n=JSON.parse(e.readUTF());return n},t.rmArrayObj=function(t,e){return-1!=t.indexOf(e)?t.splice(t.indexOf(e),1):void 0},t}();t.Util=e,__reflect(e.prototype,"ZJ.Util")}(ZJ||(ZJ={}));var ZJ;!function(t){var e=function(){function t(t,e,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),this.x=0,this.y=0,this.z=0,this.x=t,this.y=e,this.z=n}return t}();t.Vector3=e,__reflect(e.prototype,"ZJ.Vector3")}(ZJ||(ZJ={}));var ZJ;!function(t){var e=function(){function e(){this.bgm="bgm",this._isMute=!1,this.sounds={},this.soundsChannel={}}return Object.defineProperty(e,"Instance",{get:function(){return this._instance},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isMute",{get:function(){return this._isMute},set:function(t){this._isMute=t,this._isMute?this.stopAll():(this.stopBgm(),this.playBgm())},enumerable:!0,configurable:!0}),e.prototype.playBgm=function(t,e){void 0===t&&(t=0),void 0===e&&(e=1),this._isMute||null!=this.bgm&&""!=this.bgm&&this.play(this.bgm,t,e)},e.prototype.stopBgm=function(){this.stop(this.bgm)},e.prototype.play=function(e,n,i){var o=this;void 0===n&&(n=1),void 0===i&&(i=1);var s=e+"_mp3";if(!this._isMute)if(null!=this.sounds[e]){var a=this.sounds[e].play(0,n);this.soundsChannel[e]=a,a.volume=i}else t.ResManager.instance.loadRes(s,function(t,s){var a=t,r=a.play(0,n);r.volume=i,o.sounds[e]=a,o.soundsChannel[e]=r},this)},e.prototype.stop=function(t){null!=this.soundsChannel[t]&&(this.soundsChannel[t].stop(),this.soundsChannel[t]=null)},e.prototype.stopAll=function(){for(var t in this.soundsChannel)this.stop(t)},e.prototype.getSound=function(t){return this.sounds[t]},e.prototype.getChannel=function(t){return this.soundsChannel[t]},e._instance=new e,e}();t.AudioManager=e,__reflect(e.prototype,"ZJ.AudioManager")}(ZJ||(ZJ={}));var ZJ;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName="ZJButtonSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),console.log(this.img),this.img.source="w3_png"},e}(eui.Button);t.Button=e,__reflect(e.prototype,"ZJ.Button")}(ZJ||(ZJ={}));var ZJ;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.cb=null,t.leftSecond=0,t.intervalID=0,t.isPause=!1,t.skinName="CountDownSkin",t}return __extends(n,e),n.prototype.partAdded=function(t,n){e.prototype.partAdded.call(this,t,n)},n.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},n.prototype.start=function(t){var e=this;this.stop(),this.isPause=!1,this.leftSecond=t,this.count(),this.intervalID=setInterval(function(){e.count()},1e3)},n.prototype.pause=function(){this.isPause=!0},n.prototype.resume=function(){this.isPause=!1},n.prototype.stop=function(){clearInterval(this.intervalID)},n.prototype.setSecond=function(e){var n=Math.floor(e/60)%60,i=e%60,o=this.checkTime(n),s=this.checkTime(i);this.label.text=t.Util.strFormat("{0}:{1}",o,s)},n.prototype.count=function(){return this.setSecond(this.leftSecond),0==this.leftSecond?(this.stop(),void(null!=this.cb&&this.cb())):void(this.isPause||this.leftSecond--)},n.prototype.checkTime=function(t){return 10>t&&(t="0"+t),t},n.prototype.OnDestroy=function(){this.cb=null,this.stop()},n}(eui.Component);t.CountDown=e,__reflect(e.prototype,"ZJ.CountDown",["eui.UIComponent","egret.DisplayObject"])}(ZJ||(ZJ={}));var DebugPlatform=function(){function t(){}return t.prototype.getUserInfo=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2,{nickName:"username"}]})})},t.prototype.login=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2]})})},t.prototype.share=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2]})})},t}();__reflect(DebugPlatform.prototype,"DebugPlatform",["Platform"]),window.platform||(window.platform=new DebugPlatform);var ImgAnim=function(t){function e(e){var n=t.call(this)||this;return n.interval=0,n.loop=!0,n.index=0,n.imgArray=e,n.source=e[0],n}return __extends(e,t),e.prototype.play=function(){var t=this;this.id=setInterval(function(){t.index++,t.index>=t.imgArray.length&&(t.loop?t.index=0:t.stop()),t.source=t.imgArray[t.index]},this.interval,this)},e.prototype.replay=function(){this.index=0,clearInterval(this.id),this.play()},e.prototype.pause=function(){clearInterval(this.id)},e.prototype.stop=function(){this.index=0,clearInterval(this.id)},e}(eui.Image);__reflect(ImgAnim.prototype,"ImgAnim");var UILayer=function(){function t(){}return t.View=0,t.Pop=1,t.SDK=2,t}();__reflect(UILayer.prototype,"UILayer");var UIName=function(){function t(){}return t.Test="Test",t.Game="Game",t.Settle="Settle",t.Loading="Loading",t}();__reflect(UIName.prototype,"UIName");var ModuleConfig=function(){function t(){}return t.WIN_INDEX=6,t.uiLayers=[UILayer.View,UILayer.Pop,UILayer.SDK],t.uiDatas=(_a={},_a[UIName.Test]=new ZJ.UIData(UIName.Test,UILayer.View,TestView),_a[UIName.Game]=new ZJ.UIData(UIName.Game,UILayer.View,GameView),_a[UIName.Settle]=new ZJ.UIData(UIName.Settle,UILayer.View,SettleView),_a[UIName.Loading]=new ZJ.UIData(UIName.Loading,UILayer.Pop,LoadingView),_a),t.compile={need_loading:!0,chushou:!1,chushou_test:!0,chushou_h5AppName:"tyt",danji:!0},t.ip="dev-game.u17games.com",t.port="12011",t.protoFiles=["p10_proto","p11_proto"],t}();__reflect(ModuleConfig.prototype,"ModuleConfig");var EventName=function(){function t(){}return t.Test="Test",t.GAME_RESTART="GAME_RESTART",t.GAME_EXIT="GAME_EXIT",t.PLAYER_DIE="PLAYER_DIE",t.PLAYER_FUHUO="PLAYER_FUHUO",t.PLAYER_WIN="PLAYER_WIN",t.PLAYER_JUMP_END="PLAYER_JUMP_END",t}();__reflect(EventName.prototype,"EventName");var _a,ModuleStartUp=function(){function t(){}return t.init=function(){return ZJ.SocketManager.instance.setCompany(1),ZJ.AudioManager.Instance.bgm="theme",ZJ.UIManager.instance.openView(UIName.Game),0},t}();__reflect(ModuleStartUp.prototype,"ModuleStartUp");var ModuleUtil=function(){function t(){}return Object.defineProperty(t,"tables",{get:function(){return ZJ.TableManager.instance.tables},enumerable:!0,configurable:!0}),t.getProtoByID=function(t,e){var n="";if(e)switch(t){case 99999:n="ClientCmdData";break;case 1e3:n="CmdLoginGameReqMsg";break;case 1001:n="CmdPingReqMsg";break;case 1300:n="CmdJumperUploadAnswerReqMsg";break;case 1303:n="CmdJumperGameOverReqMsg"}else switch(t){case 99999:n="ServerCmdData";break;case 1e3:n="CmdLoginGameRspMsg";break;case 1001:n="CmdPingRspMsg";break;case 1300:n="CmdJumperUploadAnswerRspMsg";break;case 1303:n="CmdJumperGameOverRspMsg";break;case 1399:n="CmdBroadcastJumperBC"}var i=ZJ.SocketManager.instance.ProtoBufRoot,o=i.lookupType(n);return o},t}();__reflect(ModuleUtil.prototype,"ModuleUtil");var MyCountDown=function(t){function e(){var e=t.call(this)||this;return e.cb=null,e.leftSecond=0,e.intervalID=0,e.isPause=!1,e.skinName="MyCountDownSkin",e}return __extends(e,t),e.prototype.partAdded=function(e,n){t.prototype.partAdded.call(this,e,n)},e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this)},e.prototype.start=function(t){var e=this;this.stop(),this.isPause=!1,this.leftSecond=t,this.count(),this.intervalID=setInterval(function(){e.count()},1e3)},e.prototype.pause=function(){this.isPause=!0},e.prototype.resume=function(){this.isPause=!1},e.prototype.stop=function(){clearInterval(this.intervalID)},e.prototype.setSecond=function(t){var e=Math.floor(t/60)%60,n=t%60,i=this.checkTime(e),o=this.checkTime(n);this.label.text=ZJ.Util.strFormat("{0}:{1}",i,o)},e.prototype.count=function(){return this.setSecond(this.leftSecond),0==this.leftSecond?(this.stop(),void(null!=this.cb&&this.cb())):void(this.isPause||this.leftSecond--)},e.prototype.checkTime=function(t){return 10>t&&(t="0"+t),t},e.prototype.OnDestroy=function(){this.cb=null,this.stop()},e}(eui.Component);__reflect(MyCountDown.prototype,"MyCountDown",["eui.UIComponent","egret.DisplayObject"]);var NumCountDown=function(t){function e(){var e=t.call(this)||this;return e.cb=null,e.leftSecond=0,e.intervalID=0,e.isPause=!1,e.skinName="NumCountDownSkin",e}return __extends(e,t),e.prototype.partAdded=function(e,n){t.prototype.partAdded.call(this,e,n)},e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this)},e.prototype.start=function(t){var e=this;this.stop(),this.isPause=!1,this.leftSecond=t,this.count(),this.intervalID=setInterval(function(){e.count()},1e3)},e.prototype.pause=function(){this.isPause=!0},e.prototype.stop=function(){this.label.text="",clearInterval(this.intervalID)},e.prototype.count=function(){return this.label.text=this.leftSecond.toString(),0==this.leftSecond?(this.stop(),void(null!=this.cb&&this.cb())):void(this.isPause||this.leftSecond--)},e.prototype.OnDestroy=function(){this.cb=null,this.stop()},e}(eui.Component);__reflect(NumCountDown.prototype,"NumCountDown",["eui.UIComponent","egret.DisplayObject"]);var Plate=function(t){function e(){var e=t.call(this)||this;return e.skinName="PlateSkin",e}return __extends(e,t),e.prototype.partAdded=function(e,n){t.prototype.partAdded.call(this,e,n)},e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this)},e}(eui.Component);__reflect(Plate.prototype,"Plate",["eui.UIComponent","egret.DisplayObject"]);var Player=function(t){function e(){var e=t.call(this)||this;return e.G=8500,e.V0_X=400,e.V0_Y=-1800,e.PLAYER_SCALE_MIN=.5,e.PLAYER_TIME_MIN=1e3,e.PLAYER_FORCE_MAX=2.22,e.FLOOR_Y=1510,e.JUMP_WIDTH_FIX=10,e.JUMP_FIRM=.4,e.DROP_ROTATION_TIME=500,e.FUHUO_TIME=2e3,e.LUODI_SCALE=[.7,4.4],e.PLAYER_LUODI=400,e.img=null,e.gMC=null,e.gUp=null,e.beginX=0,e.beginY=0,e._isWin=!1,e.isPlayer1=!1,e.endX=0,e.endY=0,e.force=0,e.halfTime=0,e.rotateDirect=0,e.playerData=new PlayerData,e._curPlateIndex=0,e.intervalID=0,e.timeoutFuhuo=0,e.pastTime=0,e._isPlaying=!1,e._isGameOver=!1,e.time=0,e.isPlayingAnim=!1,e.imgScaleY=1,e._state=1,e._headName=["头落后_","头准备","头领先"],e.skinName="PlayerSkin",e}return __extends(e,t),e.prototype.partAdded=function(e,n){t.prototype.partAdded.call(this,e,n)},Object.defineProperty(e.prototype,"scoreX",{get:function(){return this.beginX},set:function(t){this.beginX=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scoreY",{get:function(){return this.beginY},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isWin",{get:function(){return this._isWin},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"curPlateIndex",{get:function(){return this._curPlateIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPlaying",{get:function(){return this._isPlaying},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isGameOver",{get:function(){return this._isGameOver},set:function(t){this._isGameOver=t},enumerable:!0,configurable:!0}),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.img.visible=!1,egret.startTick(this.onTick,this)},e.prototype.onTick=function(t){if(this.isPlaying&&!this.isGameOver){var e=t-this.time;this.pastTime+=e;var n=this.pastTime/1e3,i=this.V0_Y*this.force,o=this.V0_X*this.force,s=i*n+.5*this.G*n*n,a=o*n;if(this.y=Math.min(this.FLOOR_Y,this.beginY+s),this.x=this.beginX+a,0!=this.endX&&0!=this.endY){if(this.x>this.endX){if(this.y=this.endY,this.x=this.endX,0==this.rotateDirect&&(this.beginX=this.x,this.beginY=this.y,this.curPlateIndex==ModuleConfig.WIN_INDEX-1)){this._isWin=!0;var r=new egret.Event(EventName.PLAYER_WIN);this.dispatchEvent(r)}this.stopJump(),this.playLuodi()}}else this.y>=this.FLOOR_Y&&(0!=this.endX&&(this.x=Math.min(this.x,this.endX+100)),this.stopJump(),this.gameOver(),this.playGhostAnim())}return this.time=t,!0},e.prototype.resetPos=function(){clearTimeout(this.timeoutFuhuo),this._isWin=!1,this.isPlayingAnim=!1,this._isPlaying=!1,this.isGameOver=!1,this.gMC.rotation=0,this.gMC.y=this.height,this.gMC.alpha=1,this._state=0,this.stopJump(!1),this.stopDieAnim(),this.playBreath()},e.prototype.restart=function(){this.resetPos(),this._curPlateIndex=0},e.prototype.gameOver=function(){var t=this;this.isGameOver=!0,this.stopAnim(),this.timeoutFuhuo=setTimeout(function(){egret.Tween.removeTweens(t.gMC),t.resetPos(),t.x=t.beginX,t.y=t.beginY;var e=new egret.Event(EventName.PLAYER_FUHUO);t.dispatchEvent(e)},this.FUHUO_TIME)},e.prototype.stopJump=function(t){var e=this;if(void 0===t&&(t=!0),this.pastTime=0,this._isPlaying=!1,0!=this.rotateDirect){var n=0;1==this.rotateDirect?n=-90:2==this.rotateDirect&&(n=90),this.rotateDirect=0,this.gameOver(),egret.Tween.get(this.gMC).wait(100).to({rotation:n,y:this.gMC.globalToLocal(0,this.FLOOR_Y+.7*this.height).y},this.DROP_ROTATION_TIME).call(function(){e.playGhostAnim()},this)}else this.playBreath();if(t){var i=new egret.Event(EventName.PLAYER_JUMP_END);this.dispatchEvent(i)}},e.prototype.setData=function(t){this.playerData=t},e.prototype.jump=function(t,e,n){void 0===e&&(e=-1),void 0===n&&(n=-1),this.playJump(),this._isPlaying=!0,this.beginX=this.x,this.beginY=this.y,this.endX=0,this.endY=0,this.force=.1+(1-t)/(1-this.PLAYER_SCALE_MIN)*this.PLAYER_FORCE_MAX;var i=this.V0_Y*this.force,o=this.V0_X*this.force;this.halfTime=-2*i/this.G*.5;for(var s=2*this.halfTime,a=this.playerData.plates.length,r=this._curPlateIndex;a>r;++r){for(var h=this.playerData.plates[r].y,c=ZJ.MathUtil.YiYuanErCi(.5*this.G,i,this.beginY+this.height-h),l=!1,u=0;u<c.length;++u)if(c[u]>this.halfTime){var p=this.beginX+o*c[u];if(p>this.playerData.plates[r].x-this.width+this.JUMP_WIDTH_FIX&&p<this.playerData.plates[r].x+this.playerData.plates[r].width-this.JUMP_WIDTH_FIX){p<this.playerData.plates[r].x-(1-this.JUMP_FIRM)*this.width+this.JUMP_WIDTH_FIX?this.rotateDirect=1:p>this.playerData.plates[r].x+this.playerData.plates[r].width-this.JUMP_FIRM*this.width-this.JUMP_WIDTH_FIX?this.rotateDirect=2:this._curPlateIndex=r,this.endX=Math.floor(p),this.endY=Math.floor(h-this.height),s=c[u],l=!0;break}}if(l)break}var d=this.endY;if(0==this.endX)for(var h=this.FLOOR_Y,c=ZJ.MathUtil.YiYuanErCi(.5*this.G,i,this.beginY+this.height-h),l=!1,u=0;u<c.length;++u)if(c[u]>this.halfTime){var p=this.beginX+o*c[u];this.endX=Math.floor(p);break}-1!=e&&(this.endX=e),-1!=n&&(this.endY=n);var g={endX:this.endX,endY:d,bgTime:s,V0_X:o,V0_Y:i};return g},e.prototype.playAnim=function(){this.isPlayingAnim||this._isWin||(this.isPlayingAnim=!0,this.isPlayer1&&ZJ.AudioManager.Instance.play("xuli",0),this.playYasuo(),this.playXuli())},e.prototype.stopAnim=function(){this.isPlayer1&&ZJ.AudioManager.Instance.stop("xuli");var t=this.dbScaler.scaleY;return egret.Tween.removeTweens(this.dbScaler),this.dbScaler.scaleY=1,this.stopXuli(),this.isPlayingAnim=!1,this.imgScaleY=t,t},e.prototype.playYasuo=function(){egret.Tween.get(this.dbScaler,{loop:!0}).to({scaleY:this.PLAYER_SCALE_MIN},this.PLAYER_TIME_MIN).to({scaleY:1},this.PLAYER_TIME_MIN),this.db.animation.fadeIn(this.getAniNameByState("xuli")).timeScale=1040/this.PLAYER_TIME_MIN},e.prototype.onDestroy=function(){egret.stopTick(this.onTick,this)},e.prototype.playXuli=function(){var t=this;null==this.xuliTw?ZJ.ResManager.instance.loadMovieClip("xuli","xuli",function(e){t.xuliTw=e,t.xuliTw.x=t.width/2,t.xuliTw.y=t.height,t.addChild(t.xuliTw),t.xuliTw.visible=!0,t.xuliTw.play(-1)}):(this.xuliTw.visible=!0,this.xuliTw.play(-1))},e.prototype.stopXuli=function(){null!=this.xuliTw&&(this.xuliTw.stop(),this.xuliTw.visible=!1)},e.prototype.playLuodi=function(){null==this.luodi&&(this.luodi=new eui.Image,this.luodi.source="luodi_png",this.luodi.width=202,this.luodi.height=22,this.luodi.anchorOffsetX=this.luodi.width/2,this.luodi.anchorOffsetY=this.luodi.height/2,this.luodi.x=this.width/2,this.luodi.y=this.height,this.addChildAt(this.luodi,0));var t=this.LUODI_SCALE[0],e=this.LUODI_SCALE[1];this.luodi.visible=!0,this.luodi.scaleX=t,this.luodi.scaleY=t,this.luodi.alpha=1;var n=t+(e-t)*(1-this.imgScaleY)/(1-this.PLAYER_SCALE_MIN);egret.Tween.get(this.luodi).to({scaleY:n,scaleX:n,alpha:0},this.PLAYER_LUODI,egret.Ease.sineOut),this.isWin?this.db.animation.fadeIn("shengli"):this.db.animation.fadeIn(this.getAniNameByState("luodi"),-1,1).timeScale=2.5,this.isPlayer1&&ZJ.AudioManager.Instance.stop("jump")},e.prototype.playGhostAnim=function(){null==this.ghost&&(this.ghost=new eui.Image,this.ghost.source="linghun_png",this.ghost.width=142,this.ghost.height=165,this.ghost.scaleX=1.5,this.ghost.scaleY=1.5,this.ghost.anchorOffsetX=this.ghost.width/2,this.ghost.anchorOffsetY=this.ghost.height/2,this.gUp.addChildAt(this.ghost,2)),null==this.qilang&&(this.qilang=new eui.Image,this.qilang.source="qilang_png",this.qilang.width=272,this.qilang.height=89,this.qilang.anchorOffsetX=this.qilang.width/2,this.qilang.anchorOffsetY=this.qilang.height/2,this.qilang.scaleX=1.5,this.qilang.scaleY=1.5,this.gUp.addChildAt(this.qilang,3)),this.ghost.x=this.gMC.x,this.ghost.y=this.gMC.y,this.qilang.x=this.gMC.x,this.qilang.y=this.gMC.y,this.ghost.visible=!0,this.qilang.visible=!0,this.ghost.alpha=1,egret.Tween.get(this.ghost).to({y:this.gMC.y-150,alpha:0},500,egret.Ease.sineIn),this.qilang.alpha=1,egret.Tween.get(this.qilang).to({alpha:0},200),this.db.animation.fadeIn("daku"),this.isPlayer1&&ZJ.AudioManager.Instance.play("tiaodaoci")},e.prototype.stopDieAnim=function(){this.ghost&&(this.ghost.visible=!1),this.qilang&&(this.qilang.visible=!1)},e.prototype.initDB=function(t){var e=this,n="",i="";1==t?(n="bao1",i="bao1"):(n="bao2",i="bao2"),this.db=ZJ.ResManager.instance.loadDragonBones(n,i),this.gMC.addChild(this.db),this.db.addEventListener(dragonBones.FrameEvent.FRAME_EVENT,function(t){switch(t.frameLabel){case"luodi_end":e.playBreath()}},this)},e.prototype.playBreath=function(){if(null!=this.db){var t=this.getAniNameByState("stand");this.db.animation.fadeIn(t)}},e.prototype.playJump=function(){null!=this.db&&this.db.animation.fadeIn(this.getAniNameByState("jumppose"))},e.prototype.updateDB=function(t){t!=this._state&&(this._state=t,this.isGameOver||this.updateDBInternal())},e.prototype.updateDBInternal=function(){if(this.db.animation.lastAnimationState){var t=this.db.animation.lastAnimationName.split("_")[0];this.db.animation.gotoAndPlayByTime(this.getAniNameByState(t),this.db.animation.lastAnimationState.currentTime)}},e.prototype.getAniNameByState=function(t){var e="";switch(this._state){case 2:e="_lingxian";break;case 0:e="_luohou"}return t+e},e}(eui.Component);__reflect(Player.prototype,"Player",["eui.UIComponent","egret.DisplayObject"]);var ReadyGo=function(t){function e(){var e=t.call(this)||this;return e.READY_TIME=2e3,e.GO_TIME=500,e.cb=null,e.skinName="ReadyGoSkin",e}return __extends(e,t),e.prototype.partAdded=function(e,n){t.prototype.partAdded.call(this,e,n)},e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this)},e.prototype.start=function(){var t=this;this.stop(),egret.Tween.get(this.ready).to({alpha:1,scaleX:1,scaleY:1},400).wait(500).to({alpha:0},500).call(function(){egret.Tween.get(t.go).to({alpha:1,scaleX:1,scaleY:1},200).wait(300).to({alpha:0},300).call(function(){null!=t.cb&&t.cb()},t)},this)},e.prototype.stop=function(){egret.Tween.removeTweens(this.ready),egret.Tween.removeTweens(this.go),this.ready.alpha=0,this.ready.scaleX=.8,this.ready.scaleY=.8,this.go.alpha=0,this.go.scaleX=2,this.go.scaleY=2},e.prototype.OnDestroy=function(){this.cb=null,this.stop()},e}(eui.Component);__reflect(ReadyGo.prototype,"ReadyGo",["eui.UIComponent","egret.DisplayObject"]);var PlayerData=function(){function t(){this.plates=[]}return t}();__reflect(PlayerData.prototype,"PlayerData");var SettleData=function(){function t(){this.score=0}return t}();__reflect(SettleData.prototype,"SettleData");var ZJ;!function(t){var e=function(t){function e(e,n,i,o){var s=t.call(this,e,n,i,o)||this;return s.data=null,s}return __extends(e,t),e}(egret.Event);t.ChannelDataEvent=e,__reflect(e.prototype,"ZJ.ChannelDataEvent")}(ZJ||(ZJ={}));var ZJ;!function(t){var e=function(){function t(){}return t.FRAME=30,t.UP=0,t.DOWN=1,t.LEFT=2,t.RIGHT=3,t}();t.CommonConfig=e,__reflect(e.prototype,"ZJ.CommonConfig");var n=function(){function t(){}return t.TABLE_LOADED="TABLE_LOADED",t.SOCKET_CONNECTED="SOCKET_CONNECTED",t.SOCKET_DATA="SOCKET_DATA",t.GESTURE_DIRECT="GESTURE_DIRECT",t.CHANNEL_DATA="CHANNEL_DATA",t}();t.CommonEventName=n,__reflect(n.prototype,"ZJ.CommonEventName")}(ZJ||(ZJ={}));var Main=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),egret.lifecycle.addLifecycleListener(function(t){}),egret.lifecycle.onPause=function(){egret.ticker.pause()},egret.lifecycle.onResume=function(){egret.ticker.resume()},egret.registerImplementation("eui.IAssetAdapter",new AssetAdapter),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),this.runGame()["catch"](function(t){console.log(t)})},e.prototype.runGame=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return[4,this.createGameScene()];case 1:return e.sent(),[4,platform.login()];case 2:return e.sent(),[4,platform.getUserInfo()];case 3:return t=e.sent(),console.log(t),[2]}})})},e.prototype.createGameScene=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return egret.ImageLoader.crossOrigin="anonymous",ModuleConfig.compile.yy&&onPKLoading(),[4,ZJ.ResManager.instance.init(this.stage)];case 1:return e.sent(),[4,ZJ.ResManager.instance.loadGroup("realpreload")];case 2:return e.sent(),ZJ.UIManager.instance.init(this),ZJ.UIManager.instance.uiLayers=ModuleConfig.uiLayers,ZJ.UIManager.instance.uiDatas=ModuleConfig.uiDatas,t=this.GetLoadingView(),[4,ZJ.ResManager.instance.loadGroup("preload",0,t)];
case 3:return e.sent(),ZJ.SocketManager.instance.init(),1==ModuleConfig.compile.yy&&onPKFinishLoading(),ModuleStartUp.init(),1==ModuleConfig.compile.yy&&onPKStart(),[2]}})})},e.prototype.GetLoadingView=function(){var t=null,e=null;return ModuleConfig.compile.need_loading&&(ModuleConfig.compile.danji?e=LoadingView:ModuleConfig.compile.yy?e=YYLoadingView:ModuleConfig.compile.ali?e=AliLoadingView:ModuleConfig.compile.chushou),null!=e&&(ModuleConfig.uiDatas[UIName.Loading].viewClass=e,t=ZJ.UIManager.instance.openView(UIName.Loading)),t},e.prototype.onEnterFrame=function(){},e}(eui.UILayer);__reflect(Main.prototype,"Main");var ZJ;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),Object.defineProperty(e,"instance",{get:function(){return this._instance},enumerable:!0,configurable:!0}),e.prototype.init=function(){return 0},e._instance=new e,e}(egret.EventDispatcher);t.EventManager=e,__reflect(e.prototype,"ZJ.EventManager")}(ZJ||(ZJ={}));var AliLoadingView=function(t){function e(){var e=t.call(this)||this;return e.intervalID=0,e.ran1=0,e.ran2=0,e.SEND_PROGRESS=6,e.progressIndex=0,e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this);var e=ZJ.ShapeUtil.getRect(0,1,this.stage.stageWidth,this.stage.stageHeight);this.addChild(e);var n=500,i=new eui.ProgressBar;i.skinName="YYLoadingPBSkin",this.progress=i,this.progress.width=450,this.progress.height=62,this.progress.minimum=0,this.progress.maximum=100,this.progress.horizontalCenter=0,this.progress.y=n+435,this.progress.scaleX=1.3,this.progress.scaleY=1.3,this.progress.labelFunction=function(t,e){return t+"%"},this.addChild(this.progress);var o=new eui.Image;o.source="load_img03_png",o.horizontalCenter=0,o.y=n+630,o.width=510,o.height=100,o.alpha=.2,this.addChild(o),this.load3=new eui.Label,this.load3.text="等待对手加入游戏...",this.load3.horizontalCenter=0,this.load3.y=n+660,this.load3.size=40,this.load3.textColor=16777215,this.addChild(this.load3),this.startCount(),ZJ.SocketManager.instance.connectByUrlAli({ip:ModuleConfig.ip,port:ModuleConfig.port})},e.prototype.startCount=function(){var t=this;this.intervalID=setInterval(function(){t.ran2=Math.min(t.ran2+8*Math.random()+2,99),t.progress.value=Math.floor((t.ran1+t.ran2)/2)},200)},e.prototype.onProgress=function(t,e){this.ran1=Math.floor(t/e*100);var n=Math.floor(t/e*100);100==n?ALISDK.CatcherSDK.instance().updateProgress(ALISDK.CatcherSDK.ProgressState.COMPLETED,n):(this.progressIndex==this.SEND_PROGRESS-1&&ALISDK.CatcherSDK.instance().updateProgress(ALISDK.CatcherSDK.ProgressState.PROGRESSING,n),this.progressIndex=++this.progressIndex%this.SEND_PROGRESS)},e.prototype.onDestroy=function(){return t.prototype.onDestroy.call(this),0},e}(ZJ.ViewBase);__reflect(AliLoadingView.prototype,"AliLoadingView");var ChushouLoadingView=function(t){function e(){var e=t.call(this)||this;return e.intervalID=0,e.ran1=0,e.ran2=0,e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this);var e=ZJ.ShapeUtil.getRect(0,1,this.stage.stageWidth,this.stage.stageHeight);this.addChild(e);var n=new eui.Image;n.source="loading_bg_png",n.height=1920,n.percentWidth=100,this.addChild(n),n.horizontalCenter=0;var i=500,o=new eui.Group;this.addChild(o),o.horizontalCenter=0,o.y=i,ZJ.ResManager.instance.loadMovieClip("yylangren","yylangren",function(t){o.addChild(t),t.scaleX=1.5,t.scaleY=1.5,t.x=-195,t.gotoAndPlay("tiao",-1)});var s=new eui.ProgressBar;s.skinName="YYLoadingPBSkin",this.progress=s,this.progress.width=450,this.progress.height=62,this.progress.minimum=0,this.progress.maximum=100,this.progress.horizontalCenter=0,this.progress.y=i+435,this.progress.scaleX=1.3,this.progress.scaleY=1.3,this.progress.labelFunction=function(t,e){return t+"%"},this.addChild(this.progress);var a=new eui.Image;a.source="load_img03_png",a.horizontalCenter=0,a.y=i+630,a.width=510,a.height=100,a.alpha=.2,this.addChild(a),this.load3=new eui.Label,this.load3.text="等待对手加入游戏...",this.load3.horizontalCenter=0,this.load3.y=i+660,this.load3.size=40,this.load3.textColor=16777215,this.addChild(this.load3),this.startCount()},e.prototype.startCount=function(){var t=this;this.intervalID=setInterval(function(){t.ran2=Math.min(t.ran2+8*Math.random()+2,99),t.progress.value=Math.floor((t.ran1+t.ran2)/2)},200)},e.prototype.onProgress=function(t,e){this.ran1=Math.floor(t/e*100),this.progress.value=Math.floor((this.ran1+this.ran2)/2)},e.prototype.onDestroy=function(){return t.prototype.onDestroy.call(this),clearInterval(this.intervalID),0},e}(ZJ.ViewBase);__reflect(ChushouLoadingView.prototype,"ChushouLoadingView");var ChushouSDK=function(){function t(){this.gameRoomId="",this.role="",this.title="分享标题",this.image="/resource/assets/egret_icon.png",this.description="分享描述",this.enableMic="1",this.enableAudioOutput="1",this.csAuthRequestData=null}return t.prototype.csAuthRequest=function(t){var e=this;console.log("csAuthRequest"),csAuthRequest('{"h5AppName" : '+ModuleConfig.compile.chushou_h5AppName+',"launchMode" : '+chushouGameConfig.launchMode+',"inviteMode" : '+chushouGameConfig.inviteMode+',"gameRoomId" : '+chushouGameConfig.gameRoomId+"}",function(n){console.log("cb csAuthRequest"),console.log(n),e.csAuthRequest=e.csAuthRequestData,t&&t(n)})},t.prototype.csJoinRoom=function(t){console.log("csJoinRoom"),csJoinRoom('{"accessToken" : '+this.csAuthRequestData.accessToken+',"gameRoomId" : '+this.gameRoomId+',"role" : "0"}',function(e){console.log("cb csJoinRoom"),t&&t(e)})},t.prototype.csQuitRoom=function(t){console.log("csQuitRoom"),csQuitRoom('{"accessToken" : '+this.csAuthRequestData.accessToken+',"gameRoomId" : '+this.gameRoomId+"}",function(e){console.log("cb csQuitRoom"),t&&t(e)})},t.prototype.csInviteToGame=function(t){console.log("csInviteToGame"),csInviteToGame('{"accessToken" : '+this.csAuthRequestData.accessToken+',"gameRoomId" : '+this.gameRoomId+',"inviteMode" : '+chushouGameConfig.inviteMode+',"title" : '+this.title+',"description" : '+this.description+',"image" : '+this.image+"}",function(e){console.log("cb csInviteToGame"),t&&t(e)})},t.prototype.csKickOutUser=function(t){console.log("csKickOutUser"),csKickOutUser('{"accessToken" : '+this.csAuthRequestData.accessToken+',"targetUid" : "sl23859","gameRoomId" : '+this.gameRoomId+"}",function(e){console.log("cb csKickOutUser"),t&&t(e)})},t.prototype.csShareRoom=function(t){console.log("csShareRoom"),csShareRoom('{"accessToken" : '+this.csAuthRequestData.accessToken+',"gameRoomId" : '+this.gameRoomId+',"title" : '+this.title+',"description" : '+this.description+',"image" : '+this.image+"}",function(e){console.log("cb csShareRoom"),t&&t(e)})},t.prototype.csShareRecord=function(t){console.log("csShareRecord"),csShareRecord('{"accessToken" : '+this.csAuthRequestData.accessToken+',"gameRecordId" : "119844","title" : '+this.title+',"description" : '+this.description+',"image" : '+this.image+"}",function(e){console.log("cb csShareRecord"),t&&t(e)})},t.prototype.csGetFriendList=function(t){console.log("csGetFriendList"),csGetFriendList('{"accessToken" : '+this.csAuthRequestData.accessToken+',"numPerPage" : "10","breakpoint" : "18823-ffgh-cc08"}',function(e){console.log("cb csGetFriendList"),t&&t(e)})},t.prototype.csGetUserRelationship=function(t){console.log("csGetUserRelationship"),csGetUserRelationship('{"accessToken" : '+this.csAuthRequestData.accessToken+',"users" : "10785,491721"}',function(e){console.log("cb csGetUserRelationship"),t&&t(e)})},t.prototype.csFollowUser=function(t){console.log("csFollowUser"),csFollowUser('{"accessToken" : '+this.csAuthRequestData.accessToken+',"targetUid" : "sl10785"}',function(e){console.log("cb csFollowUser"),t&&t(e)})},t.prototype.csEnableMic=function(t){console.log("csEnableMic"),csEnableMic('{"accessToken" : '+this.csAuthRequestData.accessToken+',"enableMic" : '+this.enableMic+"}",function(e){console.log("cb csEnableMic"),t&&t(e)})},t.prototype.csEnableAudioOutput=function(t){console.log("csEnableAudioOutput"),csEnableAudioOutput('{"accessToken" : '+this.csAuthRequestData.accessToken+',"enableAudioOutput" : '+this.enableAudioOutput+"}",function(e){console.log("cb csEnableAudioOutput"),t&&t(e)})},t.prototype.onUserVolumeUpdate=function(t){console.log("onUserVolumeUpdate"),onUserVolumeUpdate(function(e){console.log("cb onUserVolumeUpdate"),t&&t(e)})},t.prototype.csExitGame=function(t){console.log("csExitGame"),this.csQuitRoom(),csExitGame('{"accessToken" : '+this.csAuthRequestData.accessToken+"}")},t.prototype.csNotifyLoadProgress=function(t){console.log("csNotifyLoadProgress"),csNotifyLoadProgress('{"total" : “240","progress" : "40"}')},t.prototype.onNetworkStatusChange=function(t){console.log("onNetworkStatusChange"),onNetworkStatusChange(function(e){console.log("cb onNetworkStatusChange"),t&&t(e)})},t.prototype.csGetAPIVersionInfo=function(t){console.log("csGetAPIVersionInfo"),csGetAPIVersionInfo('{"h5AppName" : '+ModuleConfig.compile.chushou_h5AppName+',"launchMode" : '+chushouGameConfig.launchMode+',"inviteMode" : '+chushouGameConfig.inviteMode+',"gameRoomId" : '+this.gameRoomId+"}",function(e){console.log("cb csGetAPIVersionInfo"),t&&t(e)})},t.prototype.csInvokeRecharge=function(t){console.log("csInvokeRecharge"),csInvokeRecharge('{"accessToken" : '+this.csAuthRequestData.accessToken+',"paymentScene" : "1",}',function(e){console.log("cb csInvokeRecharge"),t&&t(e)})},t.prototype.onBalanceChanged=function(t){console.log("onBalanceChanged")},t.prototype.csPurchaseProps=function(t){console.log("csPurchaseProps"),csPurchaseProps('{"accessToken" : '+this.csAuthRequestData.accessToken+',"cpOrderId" : "prop7865421","cpPropName" : "双倍积分卡","cpPropId" : "1","payAmount" : "500"}',function(e){console.log("cb csPurchaseProps"),t&&t(e)})},t.prototype.csPayEntryFee=function(t){console.log("csPayEntryFee"),csPayEntryFee('{"accessToken" : '+this.csAuthRequestData.accessToken+',"cpOrderId" : "prop7865425","cpPropName" : "游戏⼊场费","cpPropId" : "999"}',function(e){console.log("cb csPayEntryFee"),t&&t(e)})},t.prototype.csCheckEntryFee=function(t){console.log("csCheckEntryFee"),csCheckEntryFee('{"accessToken" : '+this.csAuthRequestData.accessToken+"}",function(e){console.log("cb csCheckEntryFee"),t&&t(e)})},t}();__reflect(ChushouSDK.prototype,"ChushouSDK");var YYLoadingView=function(t){function e(){var e=t.call(this)||this;return e.intervalID=0,e.ran1=0,e.ran2=0,e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this);var e=ZJ.ShapeUtil.getRect(0,1,this.stage.stageWidth,this.stage.stageHeight);this.addChild(e);var n=new eui.Image;n.source="loading_bg_png",n.height=1920,n.percentWidth=100,this.addChild(n),n.horizontalCenter=0;var i=500,o=new eui.Group;this.addChild(o),o.horizontalCenter=0,o.y=i,ZJ.ResManager.instance.loadMovieClip("yylangren","yylangren",function(t){o.addChild(t),t.scaleX=1.5,t.scaleY=1.5,t.x=-195,t.gotoAndPlay("tiao",-1)});var s=new eui.ProgressBar;s.skinName="YYLoadingPBSkin",this.progress=s,this.progress.width=450,this.progress.height=62,this.progress.minimum=0,this.progress.maximum=100,this.progress.horizontalCenter=0,this.progress.y=i+435,this.progress.scaleX=1.3,this.progress.scaleY=1.3,this.progress.labelFunction=function(t,e){return t+"%"},this.addChild(this.progress);var a=new eui.Image;a.source="load_img03_png",a.horizontalCenter=0,a.y=i+630,a.width=510,a.height=100,a.alpha=.2,this.addChild(a),this.load3=new eui.Label,this.load3.text="等待对手加入游戏...",this.load3.horizontalCenter=0,this.load3.y=i+660,this.load3.size=40,this.load3.textColor=16777215,this.addChild(this.load3),this.startCount()},e.prototype.startCount=function(){var t=this;this.intervalID=setInterval(function(){t.ran2=Math.min(t.ran2+8*Math.random()+2,99),t.progress.value=Math.floor((t.ran1+t.ran2)/2)},200)},e.prototype.onProgress=function(t,e){this.ran1=Math.floor(t/e*100),this.progress.value=Math.floor((this.ran1+this.ran2)/2)},e.prototype.onDestroy=function(){return t.prototype.onDestroy.call(this),clearInterval(this.intervalID),0},e}(ZJ.ViewBase);__reflect(YYLoadingView.prototype,"YYLoadingView");var xlsx;!function(t){t.cfg_c_plot="shared/c_plot.json",t.c_plot_id="A",t.c_plot_plot="B",t.c_plot_react="C",t.c_plot_finish="D",t.c_plot_trigger="E",t.cfg_c_role="shared/c_role.json",t.c_role_id="A",t.c_role_role_name="B",t.c_role_head="C",t.c_role_sex="D",t.c_role_relation="E",t.cfg_c_task="shared/c_task.json",t.c_task_id="A",t.c_task_plot="B",t.c_task_trigger="C",t.c_task_param1="D",t.c_task_param2="E",t.c_task_param3="F",t.c_task_param4="G"}(xlsx||(xlsx={}));